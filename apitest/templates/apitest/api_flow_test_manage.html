<!DOCTYPE html>
<html lang="zh-CN">
{% load static %}
<head>
    <style>
        .th {
            padding: 5px;
            text-align: left;
            vertical-align: middle;
        }
        .td {
            padding: 5px;
            text-align: left;
            vertical-align: middle;
        }
    </style>
</head>
<body role="document">

<!-- 导航栏-->
{% include 'apitest/header_for_api_flow_test.html' %}
<div class="page-header" style="padding-top: 30px">
    <div class="container row">
        <a href={% url 'apitest:form_api_flow_case' %}><button style="margin: 20px; padding-inline: 15px;">新建流程测试用例</button></a>
        <button style="margin: 20px; padding-inline: 15px;">button2</button>
    </div>
</div>
<!-- 流程接口列表-->
<div class="row">
    <div class="col-md-11">
        <table class="table table-striped">
            <thead>
            <tr>
                <th class="th" rowspan="2">用例ID</th>
                <th class="th" rowspan="2">用例名称</th>
                <th class="th" rowspan="2">用例描述</th>
                <th class="th" colspan="6" style="text-align: center">测试步骤</th>
                <th class="th" rowspan="2">测试结果</th>
            </tr>
            <tr>
                <th class="th">接口id</th>
                <th class="th">url</th>
                <th class="th">query</th>
                <th class="th">body</th>
                <th class="th">出参</th>
                <th class="th">入参</th>
            </tr>
            </thead>
            <tbody>
                {% for item in relation_list %}
                    <tr>
                        <td class="td">{{ item.ApiFlowTest.id }}</td>
                        <td class="td">{{ item.ApiFlowTest.case_name }}</td>
                        <td class="td">{{ item.ApiFlowTest.case_desc }}</td>
                        <td class="td">{{ item.Apis.id }}</td>
                        <td class="td">{{ item.Apis.api_url }}</td>
                        <td class="td">{{ item.Apis.api_param_value }}</td>
                        <td class="td">{{ item.Apis.api_body_value }}</td>
                        <td class="td">{{ item.output_parameter }}</td>
                        <td class="td">{{ item.input_parameter }}</td>
                        <td class="td">{{ item.ApiFlowTest.case_test_result }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<!-- 翻页功能-->
<span style="position: absolute; right: 150px; bottom: 100px;">
<div class="container">
    <ul class="pagination" id="pager">
        {# 上一页链接开始 #}
        {% if apitests.has_previous %}
        <li class="previous"><a href="/apitest/apitest_manage/?page={{ apitests.previous_page_number }}">上一页</a></li>
        {% else %}
        <li class="previous disabled"><a href="#">上一页</a></li>
        {% endif %}

{#        {% for num in apitests.paginator.page_range %}#}
{#            {% if num == currentPage %}#}
{#            <li class="item active"><a href="/apitest/apitest_manage/?page={{ num }}">{{ num }}</a></li>#}
{#            {% else %}#}
{#            <li class="item"><a href="/apitest/apitest_manage/?page={{ num }}">{{ num }}</a></li>#}
{#            {% endif %}#}
{#        {% endfor %}#}

        {# 下一页链接开始 #}
        {% if apitests.has_next %}
        <li class="next"><a href="/apitest/apitest_manage/?page={{ apitests.next_page_number }}">下一页</a></li>
        {% else %}
        <li class="next disabled"><a href="#">下一页</a></li>
        {% endif %}
    </ul>
</div>

<!-- 统计功能-->
<div style="position: absolute; right:800px; width:100px;">
    <tr>
        <th>总数</th>
        <td>{{ api_flow_test_counts }}</td>
    </tr>
</div>

</body>
</html>